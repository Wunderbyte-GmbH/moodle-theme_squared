define(["jquery","theme_squared/jqueryeasing","theme_squared/jqueryflexslider","core/log"],function(a,b,c,d){"use strict";console.log("Squared custom AMD"),function(a){a.InFieldLabels=function(b,c,d){var e=this;e.$label=a(b),e.label=b,e.$field=a(c),e.field=c,e.$label.data("InFieldLabels",e),e.showing=!0,e.init=function(){e.options=a.extend({},a.InFieldLabels.defaultOptions,d),""!=e.$field.val()&&(e.$label.hide(),e.showing=!1),e.$field.focus(function(){e.fadeOnFocus()}).blur(function(){e.checkForEmpty(!0)}).bind("keydown.infieldlabel",function(a){e.hideOnChange(a)}).change(function(a){e.checkForEmpty()}).bind("onPropertyChange",function(){e.checkForEmpty()})},e.fadeOnFocus=function(){e.showing&&e.setOpacity(e.options.fadeOpacity)},e.setOpacity=function(a){e.$label.stop().animate({opacity:a},e.options.fadeDuration),e.showing=a>0},e.checkForEmpty=function(a){""==e.$field.val()?(e.prepForShow(),e.setOpacity(a?1:e.options.fadeOpacity)):e.setOpacity(0)},e.prepForShow=function(a){e.showing||(e.$label.css({opacity:0}).show(),e.$field.bind("keydown.infieldlabel",function(a){e.hideOnChange(a)}))},e.hideOnChange=function(a){16!=a.keyCode&&9!=a.keyCode&&(e.showing&&(e.$label.hide(),e.showing=!1),e.$field.unbind("keydown.infieldlabel"))},e.init()},a.InFieldLabels.defaultOptions={fadeOpacity:.5,fadeDuration:300},a.fn.inFieldLabels=function(b){return this.each(function(){var c=a(this).attr("for");if(c){var d=a("input#"+c+"[type='text'],input#"+c+"[type='password'],textarea#"+c);0!=d.length&&new a.InFieldLabels(this,d[0],b)}})}}(jQuery),function(a){var b=function(){},c=[38,38,40,40,37,39,37,39,66,65],d=0;a.fn.konami=function(a){return"function"==typeof a&&(b=a),this.keydown(function(a){d=a.keyCode==c[d]?d+1:0,d==c.length&&("function"==typeof b&&b(),d=0)})}}(jQuery),a(document).ready(function(){a("#login2 label, #newsearchform label").inFieldLabels(),a("#page-course-index-category #movecourses th.header").first().wrap('<div class="catheadwrap" />'),a("#custommenu ul > li").not("#custommenu ul li ul li").addClass("baritem"),a("#page-mod-forum-view .forumheaderlist thead").after('<div class="forumblank"></div>'),a("#page-site-index .block_html.block").click(function(b){if(!a("body").hasClass("editing")){var c=a(this).find(".content a:first").attr("href");return void 0!==c&&(window.location=c),!1}}),a(".coursepage .block.block-hider-show .header").click(function(b){return a("body").hasClass("editing")?void 0:(a(".block.vclass").not(a(this).parent()).addClass("hidden"),!1)}),a("#navbox").not(".ios #navbox,.android #navbox").hover(function(){a("#fuzz").css("height",a(document).height()),a("#fuzz").fadeIn()},function(){a("#fuzz").fadeOut()}),a(".ios #navover, .android #navover").toggle(function(){a(this).removeClass("ioshover"),a("#fuzz").css("height",a(document).height()),a("#fuzz").css("width",a(document).width()),a("#fuzz, #menuwrap").fadeIn(),a(".custom_menu_submenu").not(".cus2tom_menu_submenu .custom_menu_submenu").removeClass("yui3-menu-hidden").addClass("iosnothidden")},function(){a("#fuzz, #menuwrap").fadeOut(),a(this).addClass("ioshover")}),a(".ios .block.hidden.vclass, .android .block.hidden.vclass").not(".ios .coursepage .block.hidden.vclass, .android .coursepage .block.hidden.vclass").toggle(function(){a(this).closest("div.content").show()},function(){a(this).closest("div.content").hide()}),a("#login_username2, #newsearchfield").konami(function(){a("#logo").removeClass("tada"),a("html, body").animate({scrollTop:0},"slow"),a("#logo").addClass("tada"),setTimeout(function(){a("#logo").addClass("hinge")},2e3)}),a("#dock-control").click(function(b){if(a("body").hasClass("idock")){a("body").removeClass("idock");var c="noidock";M.util.set_user_preference("theme_squared_chosen_colpos",c)}else{a("body").addClass("idock");var c="idock";M.util.set_user_preference("theme_squared_chosen_colpos",c)}}),a(".idock .block").not(".ios #navbox,.android #navbox").hover(function(){a("body").addClass("overflow")},function(){a("body").removeClass("overflow")}),a("body").hasClass("editing"),a("#page-site-index.notloggedin .block_rss_client").length&&a("#page-site-index.notloggedin .block_rss_client .content").appendTo("#leftcolumn .innertube"),a("#page-login-index.notloggedin .block_rss_client").length&&a("#page-login-index.notloggedin .block_rss_client .content").appendTo("#leftcolumn .innertube"),a("#main-slider").flexslider({namespace:"flex-",selector:".scroll-header",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!1,directionNav:!1,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",sync:"",asNavFor:""})})});