/**
 * This is the squared theme.
 *
 * The squared theme makes uses a custom version of squared blocks
 *
 * @package theme_squared
 * @copyright 2018 onwards Onlinecampus Virtuelle PH
 * www.virtuelle-ph.at, David Bogner www.edulabs.org
 * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define(["jquery","core/log"],function(a,b){"use strict";return b.debug("Squared Category Course Search AMD initialised"),{init:function(c){a(document).ready(function(a){b.debug("Squared Category Course Search AMD init"),b.debug("Squared Category Course Search AJAX URL: "+c.theme);var d,e=!1;a("#sq-category-search").prop("disabled",!1),a("#sq-category-search").on("change textInput input",function(){var f=a(this).val().length;f>2?(window.clearTimeout(d),d=window.setTimeout(function(d){a.ajax({url:c.theme,data:{search:d.val(),categoryid:c.catid},dataType:"html"}).done(function(c){a("#sqccs").html(c),b.debug("Squared Category Course Search done: "+c)}).fail(function(){a("#sq-category-search").val("Category course search call failed")}),e=!0},500,a(this))):0==f&&1==e&&(a.ajax({url:c.theme,data:{categoryid:c.catid},dataType:"html"}).done(function(c){a("#sqccs").html(c),b.debug("Squared Category Course Search done: "+c)}).fail(function(){a("#sq-category-search").val("Category course search call failed")}),e=!1)})})}}});